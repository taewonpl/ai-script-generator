# Generation Service Environment Configuration
# Copy to .env and configure for your environment

# ============================================================================
# Service Configuration
# ============================================================================
SERVICE_NAME=generation-service
PORT=8002
DEBUG=false

# ============================================================================
# Data Paths - All data unified under /app/data/
# ============================================================================
DATA_ROOT_PATH=/app/data
CHROMA_DB_PATH=/app/data/chroma
VECTOR_DATA_PATH=/app/data/vectors
LOG_DATA_PATH=/app/data/logs
CACHE_DATA_PATH=/app/data/cache

# ============================================================================
# Database Configuration - Using SQLite for local storage
# ============================================================================
# DATABASE_URL will be auto-configured based on environment:
# - Development: sqlite:///data/app.db
# - Test: sqlite:///:memory:
# - Production: Must be set explicitly
# SQLITE_DATABASE_PATH=/app/data/app.db

# ============================================================================
# AI Provider Configuration
# ============================================================================
# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key_here  # pragma: allowlist secret

# Anthropic Configuration
ANTHROPIC_API_KEY=your_anthropic_api_key_here  # pragma: allowlist secret

# Local Model Configuration
LOCAL_MODEL_ENDPOINT=http://localhost:8080
LOCAL_MODEL_API_KEY=your_local_model_api_key_here  # pragma: allowlist secret

# ============================================================================
# Generation Settings
# ============================================================================
MAX_SCRIPT_LENGTH=10000
DEFAULT_MODEL=gpt-4o

# ============================================================================
# RAG System Configuration - ChromaDB Vector Store
# ============================================================================
CHROMA_PERSIST_DIRECTORY=/app/data/chroma
CHROMA_COLLECTION_NAME=script_knowledge
EMBEDDING_MODEL=text-embedding-ada-002
MAX_CONTEXT_LENGTH=8000
EMBEDDING_BATCH_SIZE=100
MAX_SEARCH_RESULTS=10
SIMILARITY_THRESHOLD=0.7

# ============================================================================
# External Services
# ============================================================================
PROJECT_SERVICE_URL=http://project-service:8001

# ============================================================================
# CORS Configuration
# ============================================================================
ALLOWED_ORIGINS=["http://localhost:3000","http://localhost:8000","http://frontend:3000"]

# ============================================================================
# Performance Settings
# ============================================================================
RAG_CACHE_ENABLED=true
RAG_CACHE_TTL_HOURS=24
MAX_CONCURRENT_RAG_REQUESTS=10

# ============================================================================
# Logging Configuration
# ============================================================================
LOG_LEVEL=INFO
LOG_FILE_ENABLED=true
STRUCTURED_LOGGING=true
